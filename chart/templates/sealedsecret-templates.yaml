{{/*
  This file contains templates/examples for SealedSecrets.
  These are commented out and provided as documentation.
  
  To use, generate your own SealedSecrets using kubeseal and apply them
  before deploying this chart.
*/}}

{{/*
# Example: B2 Credentials SealedSecret
# Generate with:
#   kubectl create secret generic {{ include "longhorn-backup.fullname" . }}-b2-credentials \
#     --namespace {{ .Release.Namespace }} \
#     --from-literal=AWS_ACCESS_KEY_ID=<your-key-id> \
#     --from-literal=AWS_SECRET_ACCESS_KEY=<your-app-key> \
#     --dry-run=client -o yaml | kubeseal -o yaml

apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: {{ include "longhorn-backup.fullname" . }}-b2-credentials
  namespace: {{ .Release.Namespace }}
spec:
  encryptedData:
    AWS_ACCESS_KEY_ID: <sealed-value>
    AWS_SECRET_ACCESS_KEY: <sealed-value>
  template:
    metadata:
      name: {{ include "longhorn-backup.fullname" . }}-b2-credentials
      namespace: {{ .Release.Namespace }}
    type: Opaque
*/}}

{{/*
# Example: Encryption Key SealedSecret
# Generate with:
#   # First generate and obscure passwords
#   PASS=$(openssl rand -base64 32)
#   SALT=$(openssl rand -base64 32)
#   OBSCURED_PASS=$(echo -n "$PASS" | rclone obscure -)
#   OBSCURED_SALT=$(echo -n "$SALT" | rclone obscure -)
#   
#   # IMPORTANT: Save the original PASS and SALT somewhere secure!
#   # You need them for disaster recovery!
#   
#   kubectl create secret generic {{ include "longhorn-backup.fullname" . }}-b2-encryption \
#     --namespace {{ .Release.Namespace }} \
#     --from-literal=password="$OBSCURED_PASS" \
#     --from-literal=salt="$OBSCURED_SALT" \
#     --dry-run=client -o yaml | kubeseal -o yaml

apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: {{ include "longhorn-backup.fullname" . }}-b2-encryption
  namespace: {{ .Release.Namespace }}
spec:
  encryptedData:
    password: <sealed-obscured-password>
    salt: <sealed-obscured-salt>
  template:
    metadata:
      name: {{ include "longhorn-backup.fullname" . }}-b2-encryption
      namespace: {{ .Release.Namespace }}
    type: Opaque
*/}}

{{/*
# Example: Webhook URL SealedSecret
# Generate with:
#   kubectl create secret generic {{ include "longhorn-backup.fullname" . }}-webhook \
#     --namespace {{ .Release.Namespace }} \
#     --from-literal=url="https://discord.com/api/webhooks/..." \
#     --dry-run=client -o yaml | kubeseal -o yaml

apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: {{ include "longhorn-backup.fullname" . }}-webhook
  namespace: {{ .Release.Namespace }}
spec:
  encryptedData:
    url: <sealed-webhook-url>
  template:
    metadata:
      name: {{ include "longhorn-backup.fullname" . }}-webhook
      namespace: {{ .Release.Namespace }}
    type: Opaque
*/}}
